=====================================================
    Google Speech recognition script for Asterisk
=====================================================

This script makes use of Google's speech recognition engine
in order to redner speech to text and return it back to the user
as an asterisk channel variable.

------------
Requirements
------------
Perl         The Perl Programming Language
perl-libwww  The World-Wide Web library for Perl
sox          Sound eXchange, sound processing program
Internet access in order to contact google and get the speech data.

------------
Installation
------------
To install copy speech-recog.agi to your agi-bin directory.
Usually this is /var/lib/asterisk/agi-bin/
To make sure check your /etc/asterisk/asterisk.conf file

-----
Usage
-----
agi(speech-recog.agi,[lang])
Records from the current channel. Pressing # terminates the recording and
returns the generated text string as the value of the variable utterance.

--------
Examples
--------
sample dialplan code for your extensions.conf

;Simple speech recognition
exten => 123,1,Answer()
exten => 123,n,agi(speech-recog.agi,en-US)
exten => 123,n,Noop(== The text you just said was: ${utterance} ==)
exten => 123,n,Hangup()

;Speech recognition demo also using googletts.agi for text to speech synthesis:
exten => 124,1,Answer()
exten => 124,n,agi(googletts.agi,"Please say something in English. When done press the pound key.",en)
exten => 124,n(record),agi(speech-recog.agi,en-US)
exten => 124,n,Noop(== Script returned: ${status} , ${id} , ${confidence} , ${utterance} ==)
exten => 124,n,GotoIf($["${status}" = "0"]?success:fail)

exten => 124,n(success),GotoIf($["${confidence}" > "0.9"]?playback:retry)

exten => 124,n(retry),agi(googletts.agi,"I'm not feeling confident enough with the result, can you please repeat more clearly?",en)
exten => 124,n,goto(record)

exten => 124,n(playback),agi(googletts.agi,"The text you just said was...",en)
exten => 124,n,agi(googletts.agi,"${utterance}",en)
exten => 124,n,goto(end)

exten => 124,n(fail),agi(googletts.agi,"Failed to get speech data.",en)
exten => 124,n(end),Hangup()

-------
License
-------
The speech-recog script for asterisk is distributed under the GNU General Public
License v2. See COPYING for details.
